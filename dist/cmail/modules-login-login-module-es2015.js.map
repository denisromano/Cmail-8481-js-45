{"version":3,"sources":["./src/app/modules/login/login.component.html","./src/app/models/dto/LoginInputDTO.ts","./src/app/modules/login/login-routing.module.ts","./src/app/modules/login/login.component.css","./src/app/modules/login/login.component.ts","./src/app/modules/login/login.module.ts","./src/app/service/login.service.ts"],"names":[],"mappings":"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","file":"modules-login-login-module-es2015.js","sourcesContent":["module.exports = \"<div class=\\\"mdl-layout mdl-js-layout\\\">    \\n<main class=\\\"mdl-layout__content\\\">\\n<div class=\\\"page-content\\\">\\n    \\n  <div class=\\\"mdl-grid\\\">\\n    <article class=\\\"demo-card-wide mdl-card mdl-shadow--2dp\\\">\\n      <header class=\\\"mdl-card__title\\\">\\n        <h1 class=\\\"mdl-card__title-text\\\">Bem vindos/as ao CMail!</h1>\\n      </header>\\n      <p *ngIf=\\\"mensagem\\\">\\n        {{mensagem}}\\n        </p>\\n      <form [formGroup]=\\\"formLogin\\\" (ngSubmit)=\\\"handleLogin()\\\" autocomplete=\\\"off\\\" class=\\\"mdl-card__supporting-text\\\">\\n\\n        <!-- aqui os campos do formulário -->\\n        <cmail-form-group idCampo = \\\"email\\\" textoDaLabel = \\\"Email\\\" [isInvalid]=\\\"email.invalid && email.touched\\\">\\n          <input formControlName=\\\"email\\\" required type=\\\"email\\\" name=\\\"email\\\" cmailFormField required autofocus>\\n          <span class=\\\"mdl-textfield__error\\\" *ngIf=\\\"email.invalid\\\">Informar um email é obrigatorio</span>\\n        </cmail-form-group>\\n    \\n        <cmail-form-group idCampo = \\\"password\\\" textoDaLabel = \\\"Password\\\" [isInvalid]=\\\"password.invalid && password.touched\\\">\\n            <input formControlName=\\\"password\\\" required type=\\\"password\\\" name=\\\"password\\\" cmailFormField required autofocus>\\n            <span class=\\\"mdl-textfield__error\\\" *ngIf=\\\"email.invalid\\\">Informar uma senha é obrigatorio!</span>\\n        </cmail-form-group>    \\n\\n        <div class=\\\"mdl-card__actions mdl-card--border\\\">\\n          <a routerLink=\\\"/cadastro\\\" class=\\\"mdl-button mdl-button--colored mdl-js-button mdl-js-ripple-effect\\\">\\n            Primeiro login? Cadastre-se!\\n          </a>\\n          <button type=\\\"submit\\\" class=\\\"mdl-button mdl-js-button mdl-button--raised mdl-button--accent entrar\\\">\\n            Entrar\\n          </button>\\n        </div>\\n      </form>\\n\\n    </article>\\n  </div>\\n</div>\\n</main>\\n</div>\\n\"","\nexport class LoginInputDTO {\n    email = \"\"; \n    password = \"\";\n\n    constructor({email, password}){\n        this.email = email;\n        this.password = password;\n    }\n\n}","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { LoginComponent } from './login.component';\n\n\nconst routes: Routes = [\n  {\n  path: ''\n  , component: LoginComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class LoginRoutingModule { }\n","module.exports = \".mdl-layout {\\n  background: linear-gradient(to bottom, #fcfff4 0%,#e9e9ce 100%); \\n}\\n\\n.page-content, .mdl-grid {\\n  box-sizing: border-box;\\n  height: 100%;\\n}\\n\\n.mdl-shadow--2dp {\\n  box-shadow: 0 2px 2px 0 rgba(0,0,0,.14), \\n  0 3px 1px -2px rgba(0,0,0,.2), \\n  0 1px 5px 0 rgba(0,0,0,.12),\\n  10px 40px 90px 10px rgba(0,0,0,.5);\\n}\\n\\n.mdl-grid {\\n  align-content: center;\\n  justify-content: center;\\n}\\n\\n.demo-card-wide.mdl-card {\\n  width: 512px;\\n}\\n\\n.demo-card-wide>.mdl-card__title {\\n  color: #fff;\\n  height: 176px;\\n  background: url('http://creativeloads.com/foto/vector-triangle-background-215.jpg') center / cover;\\n}\\n\\n.demo-card-wide>.mdl-card__menu {\\n  color: #fff;\\n}\\n\\n.mdl-card__actions {\\n  margin-top: 25px;\\n}\\n\\n.mdl-button.entrar {\\n  float: right;\\n}\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvbW9kdWxlcy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsK0RBQStEO0FBQ2pFOztBQUVBO0VBQ0Usc0JBQXNCO0VBQ3RCLFlBQVk7QUFDZDs7QUFFQTtFQUNFOzs7b0NBR2tDO0FBQ3BDOztBQUVBO0VBQ0UscUJBQXFCO0VBQ3JCLHVCQUF1QjtBQUN6Qjs7QUFFQTtFQUNFLFlBQVk7QUFDZDs7QUFFQTtFQUNFLFdBQVc7RUFDWCxhQUFhO0VBQ2Isa0dBQWtHO0FBQ3BHOztBQUVBO0VBQ0UsV0FBVztBQUNiOztBQUVBO0VBQ0UsZ0JBQWdCO0FBQ2xCOztBQUVBO0VBQ0UsWUFBWTtBQUNkIiwiZmlsZSI6InNyYy9hcHAvbW9kdWxlcy9sb2dpbi9sb2dpbi5jb21wb25lbnQuY3NzIiwic291cmNlc0NvbnRlbnQiOlsiLm1kbC1sYXlvdXQge1xuICBiYWNrZ3JvdW5kOiBsaW5lYXItZ3JhZGllbnQodG8gYm90dG9tLCAjZmNmZmY0IDAlLCNlOWU5Y2UgMTAwJSk7IFxufVxuXG4ucGFnZS1jb250ZW50LCAubWRsLWdyaWQge1xuICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xuICBoZWlnaHQ6IDEwMCU7XG59XG5cbi5tZGwtc2hhZG93LS0yZHAge1xuICBib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsMCwwLC4xNCksIFxuICAwIDNweCAxcHggLTJweCByZ2JhKDAsMCwwLC4yKSwgXG4gIDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsLjEyKSxcbiAgMTBweCA0MHB4IDkwcHggMTBweCByZ2JhKDAsMCwwLC41KTtcbn1cblxuLm1kbC1ncmlkIHtcbiAgYWxpZ24tY29udGVudDogY2VudGVyO1xuICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbn1cblxuLmRlbW8tY2FyZC13aWRlLm1kbC1jYXJkIHtcbiAgd2lkdGg6IDUxMnB4O1xufVxuXG4uZGVtby1jYXJkLXdpZGU+Lm1kbC1jYXJkX190aXRsZSB7XG4gIGNvbG9yOiAjZmZmO1xuICBoZWlnaHQ6IDE3NnB4O1xuICBiYWNrZ3JvdW5kOiB1cmwoJ2h0dHA6Ly9jcmVhdGl2ZWxvYWRzLmNvbS9mb3RvL3ZlY3Rvci10cmlhbmdsZS1iYWNrZ3JvdW5kLTIxNS5qcGcnKSBjZW50ZXIgLyBjb3Zlcjtcbn1cblxuLmRlbW8tY2FyZC13aWRlPi5tZGwtY2FyZF9fbWVudSB7XG4gIGNvbG9yOiAjZmZmO1xufVxuXG4ubWRsLWNhcmRfX2FjdGlvbnMge1xuICBtYXJnaW4tdG9wOiAyNXB4O1xufVxuXG4ubWRsLWJ1dHRvbi5lbnRyYXIge1xuICBmbG9hdDogcmlnaHQ7XG59XG4iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { HttpClient, HttpErrorResponse } from '@angular/common/http';\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { LoginInputDTO } from 'src/app/models/dto/LoginInputDTO';\nimport { LoginService } from 'src/app/service/login.service';\n\n@Component({\n  selector: 'cmail-login',\n  templateUrl: './login.component.html',\n  styleUrls: [ './login.component.css' ]\n})\nexport class LoginComponent implements OnInit {\n\n  private validadorEmail = Validators.compose([\n    Validators.required,\n    //Validators.pattern('/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/')\n  ]);\n\n  private validadoresPassword = Validators.compose([\n    Validators.required,\n    //Validators.minLength(6),\n    Validators.maxLength(255)\n  ]);\n\n  public email = new FormControl('', this.validadorEmail);\n  public password = new FormControl('', this.validadoresPassword);\n\n  formLogin = new FormGroup({\n    email: this.email,\n    password: this.password\n  })\n\n  mensagem = '';\n\n  constructor(private service: LoginService, private roteador: Router) { }\n\n  ngOnInit() {\n  }\n\n  handleLogin(){\n    \n    if(this.formLogin.valid){\n      const loginDTO = new LoginInputDTO(this.formLogin.value);\n      console.log(loginDTO);\n      \n    //  this.httpRequest\n    //    .post('http://localhost:3200/login', loginDTO)\n      this.service.autenticar(this.formLogin.value)\n          .subscribe(\n            (response) => {\n              console.log(response);\n              console.log('deu certo');\n              this.roteador.navigate(['']);\n            },\n            (erro: HttpErrorResponse) => {\n              this.mensagem = erro.error\n              console.error(erro);\n              console.log('deu ruim');\n              \n            }\n          );\n    }\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { LoginComponent } from './login.component';\nimport { LoginRoutingModule } from './login-routing.module';\nimport { SharedComponentsModule } from 'src/app/components/shared-components.module';\nimport { ReactiveFormsModule } from '@angular/forms';\nimport { HttpClientModule } from '@angular/common/http';\nimport { LoginService } from 'src/app/service/login.service';\n\n\n\n@NgModule({\n  declarations: [LoginComponent],\n  imports: [\n    CommonModule,\n    SharedComponentsModule,\n    ReactiveFormsModule,\n    HttpClientModule,\n    LoginRoutingModule\n  ],\n  exports: [LoginComponent],\n  providers: [LoginService]\n})\nexport class LoginModule { }\n","import { environment } from 'src/environments/environment';\nimport { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { LoginInput } from '../models/LoginInput';\nimport { LoginInputDTO } from '../models/dto/LoginInputDTO';\nimport { map } from 'rxjs/operators';\nimport { LoginOutput } from '../models/dto/LoginOutput';\n\n@Injectable()\nexport class LoginService {\n\n    private url = environment.api+'login/';\n\n    constructor(private http: HttpClient) {}\n\n    autenticar (loginData: LoginInput) {\n        const loginDTO: LoginInputDTO = {\n            email: loginData.email,\n            password: loginData.senha\n        }\n\n        return this.http\n            .post(this.url, loginData)\n            .pipe(\n                map((resposta: LoginOutput) => {\n                    localStorage.setItem('cmail-token', resposta.token)\n                    return {\n                        avatarUrl: resposta.avatarUrl,\n                        email: resposta.email,\n                        name: resposta.name\n                    }\n                })\n            )\n    }\n}"],"sourceRoot":"webpack:///"}